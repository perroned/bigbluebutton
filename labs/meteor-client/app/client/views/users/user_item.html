<template name="displayUserIcons">
    <td>{{#if isUserSharingVideo _id}}
        <span class="userListSettingIcon glyphicon glyphicon-facetime-video" rel="tooltip" data-placement="bottom" title="{{_ 'sharingWebcam' user=user.name}}"></span>
    {{/if}}</td>

    <!-- Should use much more noticeable icons than just bootstrap's volume-up & volume-down to differentiate talking but it is good for now -->
    <td>{{#if isUserSharingAudio _id}}
          {{#if isCurrentUser _id}}
            {{#if isUserMuted _id}}
              <span class="muteIcon userListSettingIcon glyphicon glyphicon-volume-off" rel="tooltip" data-placement="bottom" title="{{_ 'unmute'}}"></span>
            {{else}}
              {{#if isCurrentUserTalking}}
                  <span class="muteIcon userListSettingIcon glyphicon glyphicon-volume-up" rel="tooltip" data-placement="bottom" title="{{_ 'isTalking' user=''}}"></span>
              {{else}}
                  <span class="muteIcon userListSettingIcon glyphicon glyphicon-volume-down" rel="tooltip" data-placement="bottom" title="{{_ 'isNotTalking' user=''}}"></span>
              {{/if}}
            {{/if}}
          {{else}}
            {{#if isUserMuted _id}}
              <span class="userListSettingIcon glyphicon glyphicon-volume-off" rel="tooltip" data-placement="bottom" title="{{_ 'isMuted' user=user.name}}"></span>
            {{else}}
              {{#if isUserTalking _id}}
                  <span class="userListSettingIcon glyphicon glyphicon-volume-up" rel="tooltip" data-placement="bottom" title="{{_ 'isTalking' user='user.name'}}"></span>
              {{else}}
                  <span class="userListSettingIcon glyphicon glyphicon-volume-down" rel="tooltip" data-placement="bottom" title="{{_ 'isNotTalking' user='user.name'}}"></span>
              {{/if}}
            {{/if}}
          {{/if}}
        {{/if}}
        <!-- listen only: -->
        {{#if isUserListenOnly _id}}
          <span class="userListSettingIcon glyphicon glyphicon-headphones" title="{{_ 'listenOnly' user=''}}"></span>
        {{/if}}
    </td>

    <td>
        {{#if user.presenter}}
            <span class="userListSettingIcon glyphicon glyphicon-picture" rel="tooltip" data-placement="bottom" title="{{_ 'isPresenter' user='user.name'}}"></span>
        {{else}}
            {{#if equals user.role "MODERATOR"}}
                <span class="userListSettingIcon glyphicon glyphicon-user" rel="tooltip" data-placement="bottom" title="{{_ 'isModerator' user='user.name'}}"></span>
            {{/if}}
        {{/if}}
    </td>

    <td>
        {{#if user.raise_hand}}
            {{#if isCurrentUser _id}}
                <span class="raisedHandIcon userListSettingIcon glyphicon glyphicon-hand-up" rel="tooltip" data-placement="bottom" title="{{_ 'lowerYourHand'}}"></span>
            {{else}}
                <span class="userListSettingIcon glyphicon glyphicon-hand-up" rel="tooltip" data-placement="bottom" title="{{_ 'raisedHand' user=user.name}}"></span>
            {{/if}}
        {{/if}}
    </td>
</template>

<template name="usernameEntry">
	<td class="userNameContainer">
		{{#if isCurrentUser _id}}
			<p class="userNameEntry" rel="tooltip" data-placement="bottom" title="{{_ 'youIdentifier' user=user.name}}">
				<strong>{{_ 'youIdentifier' user=user.name}}</strong>
			</p>
		{{else}}
			<p class="userNameEntry" rel="tooltip" data-placement="bottom" title="{{user.name}}">
				{{user.name}}
			</p>
		{{/if}}
	</td>
</template>

<template name="userItem">
    {{> usernameEntry}}
    {{> displayUserIcons}}
</template>
